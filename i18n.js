// i18n.js

const translations = {
  en: {
    "app_name": "GuessView",
    "app_subtitle": "Street View Multiplayer â€” 1 minute to guess the location",
    "select_avatar": "Select your avatar",
    "login_google": "Sign in with Google",
    "nickname_label": "Player nickname",
    "nickname_placeholder": "e.g. Alex",
    "quick_play": "Quick Play",
    "find_match": "Find a Match (Join)",
    "private_room": "Private Room",
    "room_code_placeholder": "Code from friend (e.g. A2K9XZ)",
    "join_code": "Join with code",
    "logout": "Log out",
    "like_game": "Like the game? â¤ï¸",
    "support_donate": "Support / Donate",
    "global_top": "ğŸ† GLOBAL TOP 10",
    "loading": "Loading...",
    "how_to_play": "ğŸ“– How to play",
    "how_to_play_desc": "1) Explore the environment and mark the location on the map.<br>2) Points depend on the accuracy of your guess.<br>3) Compete with others in real-time using Matchmaking.<br>4) Collect the maximum score over 15 rounds.",
    "status": "Status",
    "start_game": "ğŸš€ Start Game",
    "submit_guess": "Submit Guess",
    "waiting": "Waiting for others...",
    "exit": "Exit",
    "players": "Players",
    "chat": "Chat",
    "type_message": "Type a message...",
    "location_found": "Location found!",
    "close": "Close",
    "game_finished": "ğŸ Game Finished!",
    "winner": "Winner",
    "new_game": "ğŸ”„ New Game",
    "main_menu": "ğŸ  Main Menu",
    // áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ›áƒ”áƒ áƒ” áƒ“áƒáƒáƒ›áƒáƒ¢áƒ áƒ›áƒ”áƒ¢áƒ˜
  },
  ka: {
    "app_name": "áƒ’áƒáƒ›áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”",
    "app_subtitle": "Street View Multiplayer â€” 1 áƒ¬áƒ£áƒ—áƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ áƒ£áƒ¥áƒáƒ–áƒ” áƒ’áƒáƒ›áƒáƒ¡áƒáƒªáƒœáƒáƒ‘áƒáƒ“",
    "select_avatar": "áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ•áƒáƒ¢áƒáƒ áƒ˜",
    "login_google": "Google-áƒ˜áƒ— áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ",
    "nickname_label": "áƒ›áƒáƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜",
    "nickname_placeholder": "áƒ›áƒáƒ’: Ivane",
    "quick_play": "áƒ¡áƒ¬áƒ áƒáƒ¤áƒ˜ áƒ—áƒáƒ›áƒáƒ¨áƒ˜",
    "find_match": "áƒ›áƒáƒáƒáƒ•áƒ”áƒ‘áƒ (áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ)",
    "private_room": "áƒáƒ˜áƒ áƒáƒ“áƒ˜ áƒáƒ—áƒáƒ®áƒ˜",
    "room_code_placeholder": "áƒ™áƒáƒ“áƒ˜ áƒ›áƒ”áƒ’áƒáƒ‘áƒ áƒ˜áƒ¡áƒ’áƒáƒœ (áƒ›áƒáƒ’: A2K9XZ)",
    "join_code": "áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ áƒ™áƒáƒ“áƒ˜áƒ—",
    "logout": "áƒ’áƒáƒ›áƒáƒ¡áƒ•áƒšáƒ",
    "like_game": "áƒ›áƒáƒ’áƒ¬áƒáƒœáƒ¡ áƒ—áƒáƒ›áƒáƒ¨áƒ˜? â¤ï¸",
    "support_donate": "áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ / áƒ“áƒáƒœáƒáƒªáƒ˜áƒ",
    "global_top": "ğŸ† GLOBAL TOP 10",
    "loading": "áƒ©áƒáƒ˜áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ”áƒ‘áƒ...",
    "how_to_play": "ğŸ“– áƒ áƒáƒ’áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡",
    "how_to_play_desc": "1) áƒ“áƒáƒáƒ—áƒ•áƒáƒšáƒ˜áƒ”áƒ áƒ” áƒ’áƒáƒ áƒ”áƒ›áƒ áƒ“áƒ áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ” áƒšáƒáƒ™áƒáƒªáƒ˜áƒ áƒ áƒ£áƒ¥áƒáƒ–áƒ”.<br>2) áƒ¥áƒ£áƒšáƒ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ áƒ›áƒáƒœáƒ˜áƒ¨áƒ•áƒœáƒ˜áƒ¡ áƒ¡áƒ˜áƒ–áƒ£áƒ¡áƒ¢áƒ”áƒ–áƒ”.<br>3) áƒ¨áƒ”áƒ”áƒ¯áƒ˜áƒ‘áƒ áƒ” áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ¡ áƒ áƒ”áƒáƒšáƒ£áƒ  áƒ“áƒ áƒáƒ¨áƒ˜ Matchmaking-áƒ˜áƒ—.<br>4) áƒ“áƒáƒáƒ’áƒ áƒáƒ•áƒ” áƒ›áƒáƒ¥áƒ¡áƒ˜áƒ›áƒáƒšáƒ£áƒ áƒ˜ áƒ¥áƒ£áƒšáƒ 15 áƒ áƒáƒ£áƒœáƒ“áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜.",
    "status": "â±ï¸ áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡áƒ˜",
    "start_game": "ğŸš€ áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ",
    "submit_guess": "áƒ’áƒáƒ›áƒáƒªáƒœáƒáƒ‘áƒ",
    "waiting": "â³ áƒ•áƒ”áƒšáƒáƒ“áƒ”áƒ‘áƒ˜áƒ—...",
    "exit": "áƒ’áƒáƒ¡áƒ•áƒšáƒ",
    "players": "ğŸ† áƒ›áƒáƒ—áƒáƒ›áƒáƒ¨áƒ”áƒ”áƒ‘áƒ˜",
    "chat": "ğŸ’¬ áƒ©áƒáƒ¢áƒ˜",
    "type_message": "áƒ“áƒáƒ¬áƒ”áƒ áƒ”...",
    "location_found": "áƒšáƒáƒ™áƒáƒªáƒ˜áƒ áƒœáƒáƒáƒáƒ•áƒœáƒ˜áƒ!",
    "close": "áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ",
    "game_finished": "ğŸ áƒ—áƒáƒ›áƒáƒ¨áƒ˜ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ“áƒ!",
    "winner": "áƒ’áƒáƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜",
    "new_game": "ğŸ”„ áƒáƒ®áƒáƒšáƒ˜ áƒ—áƒáƒ›áƒáƒ¨áƒ˜",
    "main_menu": "ğŸ  áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒ›áƒ”áƒœáƒ˜áƒ£",
  }
};

let currentLang = localStorage.getItem('lang') || 
  (navigator.language.startsWith('ka') ? 'ka' : 'en');

function t(key) {
  return translations[currentLang][key] || translations['en'][key] || key;
}

function setLanguage(lang) {
  if (translations[lang]) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    updateAllTexts();
    // áƒ’áƒáƒœáƒ•áƒáƒáƒ®áƒšáƒáƒ— active áƒ™áƒšáƒáƒ¡áƒ˜ áƒ¦áƒ˜áƒšáƒáƒ™áƒ”áƒ‘áƒ–áƒ”
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.classList.toggle('active', btn.dataset.lang === lang);
    });
  }
}

function updateAllTexts() {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (key) el.textContent = t(key);
  });

  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (key) el.placeholder = t(key);
  });

  // áƒ áƒáƒ£áƒœáƒ“áƒ˜áƒ¡ áƒ“áƒ˜áƒœáƒáƒ›áƒ˜áƒ£áƒ áƒ˜ áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ (áƒ—áƒ£ áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ)
  if ($('round-display')) {
    $('round-display').innerText = `${t('round')}: ${Math.min(currentRound || 1, 15)} / 15`;
  }
}

// áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ
window.addEventListener('load', () => {
  updateAllTexts();
});
en: {
  "your_party": "YOUR PARTY",
  "start_game": "Start Game",
  "edit_options": "Edit Options",
  "copy": "Copy",
  "no_move": "No moving, panning, zooming"
},

ka: {
  "your_party": "YOUR PARTY",
  "start_game": "áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ",
  "edit_options": "Edit Options",
  "copy": "áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ",
  "no_move": "áƒáƒ áƒ áƒ›áƒáƒ«áƒ áƒáƒáƒ‘áƒ, áƒáƒáƒœáƒ˜áƒœáƒ’áƒ˜, áƒ–áƒ£áƒ›áƒ˜"
}
