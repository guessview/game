
<!DOCTYPE html>
<html lang="ka">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>გამოცნობიე - Multiplayer Street View</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Noto+Sans+Georgian:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app-check.js"></script>
</head>
<body>
  
#lang-switcher {
  display: flex; /* ნაგულისხმევად ჩანს */
}

/* თამაშის რეჟიმში დავმალოთ */
body.game-active #lang-switcher {
  display: none !important;
}
  
<div id="overlay">
  <div class="panel">
    <div class="card">
      <div class="brand">
        <div class="logo">🌍</div>
        <div>
          <h1>გამოცნობიე</h1>
          <div class="subtitle">Street View Multiplayer — 1 წუთი გაქვს რუქაზე გამოსაცნობად.</div>
        </div>
      </div>
     
      <div class="label">აირჩიე ავატარი</div>
      <div class="avatar-grid" id="avatar-selector"></div>
      <div id="auth-block"><button class="btn" onclick="loginWithGoogle()">Google-ით შესვლა</button></div>
     
      <div id="post-auth" style="display:none;">
        <div class="label">მოთამაშის სახელი</div>
        <input class="field" id="nickname" placeholder="მაგ: Ivane" maxlength="15" />
       
<div class="menu-buttons">
    <button onclick="quickPlay()" class="btn matchmaking">
        <span>🎮</span> Quick Play
    </button>

    <button onclick="findMatch()" class="btn matchmaking">
        <span>🔍</span> Find a Match (Join)
    </button>

    <button onclick="createPrivateRoom()" class="btn secondary">
        <span>🔒</span> Private Room
    </button>
</div>
       
        <input class="field" id="room-code-input" placeholder="კოდი მეგობრისგან (მაგ: A2K9XZ)" style="margin-top:10px;" />
        <button class="btn secondary" onclick="joinPrivateRoom()">შესვლა კოდით</button>
       
        <button class="btn bad" style="margin-top:20px; opacity:0.6;" onclick="logout()">გამოსვლა</button>
        <div class="premium-donate-section">
          <p style="font-size: 13px; font-weight: 700; color: var(--text-muted); margin-bottom: 15px;">მოგწონს თამაში? ❤️</p>
          <a href="https://egreve.bog.ge/gamocnobie" target="_blank" class="bog-premium-btn">
            <span style="font-size: 20px;">☕</span> მხარდაჭერა / დონაცია
          </a>
        </div>
      </div>
    </div>
    <div style="display: flex; flex-direction: column; gap: 20px;">
      <div class="card" style="flex: 1; display: flex; flex-direction: column;">
        <div style="font-weight: 800; margin-bottom: 12px; color: var(--accent-amber); display: flex; align-items: center; gap: 8px;">🏆 GLOBAL TOP 10</div>
        <div id="global-list" style="overflow-y: auto; max-height: 250px;">ჩაიტვირთება...</div>
      </div>
     
      <div class="card">
        <div class="info-box-title">📖 როგორ მუშაობს</div>
        <div class="subtitle" style="margin:0; font-size:13px;">
          1) დაათვალიერე გარემო და მონიშნე ლოკაცია რუკაზე.<br>
          2) ქულა დამოკიდებულია მონიშვნის სიზუსტეზე.<br>
          3) შეეჯიბრე სხვებს რეალურ დროში Matchmaking-ით.
          4) დააგროვე მაქსიმალური ქულა 15 რაუნდის განმავლობაში.
        </div>
      </div>
    </div>
  </div>
</div>

<div id="ui" class="floating-panel">
  <div class="panel-header">
    <div class="panel-title">⏱️ სტატუსი</div>
    <div onclick="toggleMinimize('ui')" style="cursor:pointer;">−</div>
  </div>
  <div class="panel-content">
    <div id="room-code-display" style="display:none; text-align:center; margin-bottom:10px; font-size:14px; font-weight:bold; color:var(--accent-blue); background:rgba(59,130,246,0.1); padding:8px; border-radius:8px;">
        კოდი: <span id="room-code-text" style="letter-spacing:1px;"></span>
    </div>
    <div id="timer" style="font-size: 38px; font-weight: 900; text-align: center; color: var(--accent-amber); margin-bottom: 10px;">01:00</div>
   
    <button class="btn good" id="manual-start-btn" style="display:none; margin-bottom:10px;" onclick="manualGameStart()">🚀 თამაშის დაწყება</button>
   
    <button class="btn good" id="guess-btn" onclick="userSubmit(false)" disabled>გამოცნობა</button>
   
    <div id="waiting-msg" style="display:none; text-align:center; color:var(--accent-blue); margin-top:12px; font-weight:700;">⏳ ველოდებით...</div>
   
    <button class="btn bad" style="padding:6px; font-size:11px; margin-top:12px; opacity: 0.8;" onclick="exitGame()">გასვლა</button>
   
    <div id="round-display" style="text-align:center; margin-top:10px; font-size:13px; color:gray;">რაუნდი: 1 / 15</div>
  </div>
</div>

<div id="scoreboard" class="floating-panel">
  <div class="panel-header">
    <div class="panel-title">🏆 მოთამაშეები</div>
    <div onclick="toggleMinimize('scoreboard')" style="cursor:pointer;">−</div>
  </div>
  <div class="panel-content" id="score-list"></div>
</div>

<div id="chat-panel" class="floating-panel">
  <div class="panel-header">
    <div class="panel-title">💬 ჩატი</div>
    <div onclick="toggleMinimize('chat-panel')" style="cursor:pointer;">−</div>
  </div>
  <div id="emoji-picker"></div>
  <div class="panel-content" id="chat-messages"></div>
  <div style="display:flex; border-top:1px solid var(--card-border);">
    <div onclick="toggleEmojiPicker()" style="padding:10px; cursor:pointer;">😊</div>
    <input id="chat-input" placeholder="დაწერე..." style="flex:1; background:transparent; border:none; color:white; padding:12px; outline:none;" onkeydown="if(event.key==='Enter') sendChatMessage()"/>
  </div>
</div>

<div id="result-popup">
  <h3>ლოკაცია ნაპოვნია!</h3>
  <h2 id="res-score" style="margin:15px 0; color:var(--accent-green);">+0 ქულა</h2>
  <button class="btn secondary" onclick="document.getElementById('result-popup').style.display='none'">დახურვა</button>
</div>

<div id="final-screen">
  <div class="card" style="width:100%;">
    <h1 style="color:var(--accent-amber);">🏁 თამაში დასრულდა!</h1>
    <h2 id="winner-name" style="margin:20px 0;"></h2>
    <div id="final-stats" style="background:var(--bg-tertiary); padding:15px; border-radius:12px; margin-bottom:20px;"></div>
    <div class="grid2">
      <button class="btn good" onclick="restartGame()">🔄 ახალი თამაში</button>
      <button class="btn secondary" onclick="location.reload()">🏠 მთავარი მენიუ</button>
    </div>
  </div>
</div>

<div id="container" style="display:none;">
  <div id="street-view"></div>
  <div id="map-wrapper"><div id="map"></div></div>
</div>

<script src="game.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2RW92fLioq_fTquHZgZcj5MJ3izDLA10&callback=onGoogleMapsLoaded&loading=async" async defer></script>

</body>

</html>


